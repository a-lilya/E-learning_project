# E-learning_project
A/B-testing, SQL, ETL, API-function

# Стек 
Python(pandas, pandahouse, numpy, seaborn, matplotlib, scipy, urllib, requests), Redash

# Входные данные
В качестве входных данных имеется 4 csv-файла:

groups.csv - файл с информацией о принадлежности пользователя к контрольной или экспериментальной группе (А – контроль, B – целевая группа) 

groups_add.csv - дополнительный файл с пользователями, который прислали спустя 2 дня после передачи данных

active_studs.csv - файл с информацией о пользователях, которые зашли на платформу в дни проведения эксперимента

checks.csv - файл с информацией об оплатах пользователей в дни проведения эксперимента

# Цели
1) Проанализировать итоги A/B–тестирования и сделать вывод, стоит ли запускать новую механику оплаты на всех пользователей.
2) Написать 2 SQL запроса: а) выгрузить информацию о количестве студентов, которые правильно решили 20 задач за текущий месяц;
                           б) в одном запросе выгрузить следующую информацию о группах пользователей: ARPU, ARPAU, CR в покупку, СR активного пользователя в покупку, CR пользователя из                                   активности по математике в покупку курса по математике.
3) Написать 2 функции: а) автоматически подгружать информацию из дополнительного файла groups_add.csv и на основании дополнительных параметров пересчитывать метрики;
                       б) строить графики по получаемым метрикам.
# Этапы работы
1) В первой задаче сделала предобработку данных и объединила таблицы. Выделила основные продуктовые метрики для анализа: средний чек, CR, ARPU. Применила тест Шапиро-Уилка для проверки на нормальность, проверила различие в дисперсиях через критерий Левена, сформулировала гипотезы и проверила их на статистических тестах: T-тест, Хи-квадрат. В зависимости от значения p-value сделала выводы.
2) В ходе решения второй задачи объединила 4 таблицы, используя LEFT JOIN, а также использовала подзапросы. Работу выполнила в ClickHouse и выгрузила в pandas через ETL.
3) В третьей задаче использовала API, считала файлы, объединила таблицы, посчитала метрики и сформировала финальный датафрейм внутри функции. Далее реализовала визуализирующую функцию.

# Результат
1) Анализ показал, что статистически значимые различия между контрольной и целевой группой есть, стоит запустить новую механику оплаты на всех пользователей.
2) Сформированный датафрейм, состоящий из необходимых метрик.
3) Две функции: автоматическая загрузка дополнительного файла через API и построение графиков по получаемым метрикам.
